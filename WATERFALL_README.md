# BLOOMSCROLL ç€‘å¸ƒæµåª’ä½“åº“

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¥ è§†é¢‘æ”¯æŒ
- è‡ªåŠ¨æ’­æ”¾é¢„è§ˆï¼ˆé¼ æ ‡æ‚¬åœæ—¶ï¼‰
- ç‚¹å‡»å…¨å±æ’­æ”¾
- æ”¯æŒæ‰€æœ‰MP4æ ¼å¼è§†é¢‘
- å“åº”å¼è§†é¢‘æ’­æ”¾å™¨

### ğŸ–¼ï¸ å›¾ç‰‡æ”¯æŒ
- é«˜è´¨é‡å›¾ç‰‡æ˜¾ç¤º
- ç‚¹å‡»å…¨å±æŸ¥çœ‹
- æ‡’åŠ è½½ä¼˜åŒ–
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼ï¼ˆwebp, jpg, pngï¼‰

### ğŸŒŠ ç€‘å¸ƒæµå¸ƒå±€
- åŸºäºæˆè¡Œå…ƒç´  + å¯»æ‰¾æ–°å¢å…ƒç´ è¿½åŠ ä½ç½®çš„ç€‘å¸ƒæµç®—æ³•
- å›ºå®šå®½åº¦è®¾è®¡ï¼Œç¡®ä¿å¸ƒå±€ç¨³å®šæ€§
- å›ºå®š3åˆ—å¸ƒå±€ï¼Œæä¾›ä¸€è‡´çš„è§†è§‰ä½“éªŒ
- æœ€çŸ­åˆ—ä¼˜å…ˆåŸåˆ™ï¼Œå®ç°çœŸæ­£çš„ç€‘å¸ƒæµæ•ˆæœ
- å±…ä¸­å¸ƒå±€ï¼Œå®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸

### ğŸ”„ æ™ºèƒ½å¸ƒå±€
- æˆè¡Œå…ƒç´ é«˜åº¦æ•°ç»„ç®¡ç†
- åŠ¨æ€å¯»æ‰¾æœ€ä½é«˜åº¦åˆ—
- æ™ºèƒ½å®šä½æ–°å¢å…ƒç´ 
- å›ºå®š3åˆ—å¸ƒå±€ï¼Œç¡®ä¿ä¸€è‡´æ€§
- å›¾ç‰‡åŠ è½½å®Œæˆåè‡ªåŠ¨é‡æ–°å¸ƒå±€

## æ ¸å¿ƒç®—æ³•åŸç†

### æ­¥éª¤ä¸€ï¼šæ„å»ºæˆè¡Œå…ƒç´  + å¯»æ‰¾æ–°å¢å…ƒç´ è¿½åŠ ä½ç½®
1. **è®¡ç®—åˆ—æ•°**ï¼š`é¡µé¢å®½åº¦ / (å—å®½åº¦ + é—´è·)`
2. **æˆè¡Œå…ƒç´ **ï¼šå‰Nä¸ªå…ƒç´ ä½œä¸ºæˆè¡Œå…ƒç´ ï¼Œè®°å½•æ¯åˆ—é«˜åº¦
3. **æ–°å¢å…ƒç´ å®šä½**ï¼šæ‰¾åˆ°é«˜åº¦æœ€ä½çš„åˆ—ï¼Œè®¡ç®—topå’Œleftå€¼

### æ­¥éª¤äºŒï¼šé‡å¤æ­¥éª¤ä¸€ï¼Œä¾èµ–æˆè¡Œå…ƒç´ è¿½åŠ æ–°å…ƒç´ 
1. **éå†æ‰€æœ‰å…ƒç´ **ï¼šå‰Nä¸ªä½œä¸ºæˆè¡Œå…ƒç´ ï¼Œåç»­å…ƒç´ åŠ¨æ€å®šä½
2. **æœ€çŸ­åˆ—ä¼˜å…ˆ**ï¼šå§‹ç»ˆé€‰æ‹©é«˜åº¦æœ€ä½çš„åˆ—æ”¾ç½®æ–°å…ƒç´ 
3. **é«˜åº¦æ›´æ–°**ï¼šæ›´æ–°å¯¹åº”åˆ—çš„é«˜åº¦å€¼

### æ­¥éª¤ä¸‰ï¼šå“åº”å¼å¤„ç†
1. **çª—å£å¤§å°ç›‘å¬**ï¼šè‡ªåŠ¨é‡æ–°è®¡ç®—åˆ—æ•°å’Œå¸ƒå±€
2. **å›¾ç‰‡åŠ è½½ç›‘å¬**ï¼šå›¾ç‰‡åŠ è½½å®Œæˆåé‡æ–°å¸ƒå±€
3. **å»¶è¿Ÿæ‰§è¡Œ**ï¼šç¡®ä¿DOMæ›´æ–°å®Œæˆåå†æ‰§è¡Œå¸ƒå±€

## æ–‡ä»¶å¤¹ç»“æ„

### ğŸ“ åª’ä½“æ–‡ä»¶ç»„ç»‡
```
public/
â””â”€â”€ mypub/               # ç»Ÿä¸€åª’ä½“æ–‡ä»¶å¤¹
    â”œâ”€â”€ hero-1.mp4       # è§†é¢‘æ–‡ä»¶
    â”œâ”€â”€ hero-2.mp4
    â”œâ”€â”€ feature-1.mp4
    â”œâ”€â”€ your-new-video.mp4
    â”œâ”€â”€ gallery-1.webp   # å›¾ç‰‡æ–‡ä»¶
    â”œâ”€â”€ gallery-2.webp
    â”œâ”€â”€ your-new-image.jpg
    â””â”€â”€ another-image.png
```

## ä½¿ç”¨æ–¹æ³•

### 1. æ·»åŠ æ–°è§†é¢‘
å°†è§†é¢‘æ–‡ä»¶æ”¾å…¥ `public/mypub/` ç›®å½•ï¼Œå¹¶åœ¨ `mediaData` ä¸­æ·»åŠ ï¼š
```javascript
{ 
  type: 'video', 
  src: '/mypub/your-new-video.mp4', 
  thumbnail: '/img/play.svg', 
  alt: 'Your Video Description', 
  folder: 'videos' 
}
```

### 2. æ·»åŠ æ–°å›¾ç‰‡
å°†å›¾ç‰‡æ–‡ä»¶æ”¾å…¥ `public/mypub/` ç›®å½•ï¼Œå¹¶åœ¨ `mediaData` ä¸­æ·»åŠ ï¼š
```javascript
{ 
  type: 'image', 
  src: '/mypub/your-new-image.jpg', 
  alt: 'Your Image Description', 
  folder: 'gallery' 
}
```

### 3. æ–‡ä»¶å¤¹è¿‡æ»¤
ç³»ç»Ÿæä¾›ä¸‰ç§è§†å›¾æ¨¡å¼ï¼š
- **å…¨éƒ¨åª’ä½“**ï¼šæ˜¾ç¤ºæ‰€æœ‰è§†é¢‘å’Œå›¾ç‰‡
- **è§†é¢‘åº“**ï¼šä»…æ˜¾ç¤º mypub æ–‡ä»¶å¤¹ä¸­çš„è§†é¢‘æ–‡ä»¶
- **å›¾ç‰‡åº“**ï¼šä»…æ˜¾ç¤º mypub æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡æ–‡ä»¶

### 4. è‡ªåŠ¨å¸ƒå±€
ç³»ç»Ÿä¼šï¼š
- è‡ªåŠ¨è®¡ç®—æœ€ä½³åˆ—æ•°
- æ™ºèƒ½åˆ†é…å…ƒç´ ä½ç½®
- å®ç°çœŸæ­£çš„ç€‘å¸ƒæµæ•ˆæœ
- æ ¹æ®é€‰æ‹©çš„æ–‡ä»¶å¤¹åŠ¨æ€è¿‡æ»¤å†…å®¹

## æŠ€æœ¯å®ç°

### ç»„ä»¶ç»“æ„
- `WaterfallGallery.jsx` - ä¸»è¦ç€‘å¸ƒæµç»„ä»¶
- é›†æˆåœ¨ `Story.jsx` ä¸­

### æ ¸å¿ƒç®—æ³•å®ç°
```javascript
// ç€‘å¸ƒæµå¸ƒå±€ç®—æ³•
const layoutWaterfall = () => {
  const items = itemsRef.current;
  const itemWidth = 300; // å›ºå®šå®½åº¦
  const gap = 20; // å›ºå®šé—´è·
  
  // åˆå§‹åŒ–æˆè¡Œå…ƒç´ çš„é«˜åº¦æ•°ç»„
  const compareArray = new Array(columns).fill(0);
  
  // éå†æ‰€æœ‰ç€‘å¸ƒæµå—
  for (let i = 0; i < items.length; i++) {
    if (i < columns) {
      // å‰columnsä¸ªå…ƒç´ ä½œä¸ºæˆè¡Œå…ƒç´ 
      compareArray[i] = items[i].offsetHeight;
    } else {
      // è·å–æˆè¡Œå…ƒç´ ä¸­é«˜åº¦æœ€ä½çš„å€¼
      const minHeight = Math.min(...compareArray);
      const minHkey = getMinHeightKey(compareArray, minHeight);
      
      // ä¸ºæ–°å¢çš„ç€‘å¸ƒæµå—è®¾ç½®å®šä½
      items[i].style.position = 'absolute';
      items[i].style.top = `${minHeight + gap}px`;
      items[i].style.left = `${minHkey * (itemWidth + gap)}px`;
      
      // æ›´æ–°åˆ—é«˜åº¦
      compareArray[minHkey] += items[i].offsetHeight + gap;
    }
  }
};
```

### å“åº”å¼è®¾è®¡
```css
/* ç€‘å¸ƒæµå®¹å™¨ */
.waterfall-container {
  position: relative;
  margin: 0 auto;
}

/* ç€‘å¸ƒæµé¡¹ç›® */
.waterfall-item {
  transition: all 0.3s ease;
  will-change: transform;
}

/* å›ºå®š3åˆ—å¸ƒå±€ */
- å›ºå®šåˆ—æ•°ï¼š3åˆ—å¸ƒå±€ï¼Œç¡®ä¿ä¸€è‡´çš„è§†è§‰ä½“éªŒ
- å—å°ºå¯¸ï¼šæ¯å—420pxå®½åº¦ + 5pxé—´è·
- è‡ªåŠ¨å±…ä¸­ï¼šå®¹å™¨å®½åº¦è‡ªåŠ¨è°ƒæ•´ï¼Œä¿è¯æ•´ä½“å±…ä¸­
```

### åŠ¨ç”»æ•ˆæœ
- æ·¡å…¥åŠ¨ç”»ï¼š`animate-fade-in`
- æ‚¬åœç¼©æ”¾ï¼š`hover:scale-105`
- å¹³æ»‘è¿‡æ¸¡ï¼š`transition-transform duration-300`

## è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹å—å®½åº¦
åœ¨ `WaterfallGallery.jsx` ä¸­è°ƒæ•´ï¼š
```javascript
const itemWidth = 420; // ä¿®æ”¹ä¸ºéœ€è¦çš„å®½åº¦
```

### ä¿®æ”¹é—´è·
åœ¨ `WaterfallGallery.jsx` ä¸­è°ƒæ•´ï¼š
```javascript
const gap = 5; // ä¿®æ”¹ä¸ºéœ€è¦çš„é—´è·
```

### ä¿®æ”¹åŠ¨ç”»å»¶è¿Ÿ
åœ¨CSSä¸­è°ƒæ•´ï¼š
```css
.animate-fade-in {
  animation: fadeInUp 0.6s ease-out forwards; /* 0.6ç§’åŠ¨ç”»æ—¶é•¿ */
}
```

## æµè§ˆå™¨å…¼å®¹æ€§

- âœ… Chrome 80+
- âœ… Firefox 75+
- âœ… Safari 13+
- âœ… Edge 80+
- âœ… ç§»åŠ¨ç«¯æµè§ˆå™¨

## æ€§èƒ½ä¼˜åŒ–

- å›¾ç‰‡æ‡’åŠ è½½
- è§†é¢‘é¢„åŠ è½½ä¼˜åŒ–
- å»¶è¿Ÿå¸ƒå±€æ‰§è¡Œï¼Œé¿å…é¢‘ç¹é‡æ’
- ä½¿ç”¨useCallbackä¼˜åŒ–å‡½æ•°å¼•ç”¨
- å“åº”å¼å›¾ç‰‡

## æ•…éšœæ’é™¤

### è§†é¢‘æ— æ³•æ’­æ”¾
1. æ£€æŸ¥è§†é¢‘æ ¼å¼æ˜¯å¦ä¸ºMP4
2. ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®
3. æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒè§†é¢‘æ ¼å¼

### å›¾ç‰‡æ— æ³•æ˜¾ç¤º
1. æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®
3. æ£€æŸ¥å›¾ç‰‡æ ¼å¼æ˜¯å¦æ”¯æŒ

### ç€‘å¸ƒæµå¸ƒå±€å¼‚å¸¸
1. åˆ·æ–°é¡µé¢é‡æ–°è®¡ç®—å¸ƒå±€
2. æ£€æŸ¥CSSç±»æ˜¯å¦æ­£ç¡®åŠ è½½
3. ç¡®è®¤å“åº”å¼æ–­ç‚¹è®¾ç½®

## æ›´æ–°æ—¥å¿—

### v3.1.0
- ç»Ÿä¸€åª’ä½“æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ‰€æœ‰åª’ä½“æ–‡ä»¶é›†ä¸­åˆ° `public/mypub/` ç›®å½•
- ç®€åŒ–æ–‡ä»¶ç®¡ç†ï¼Œæå‡ç»´æŠ¤æ•ˆç‡
- ä¿æŒåŸæœ‰çš„æ–‡ä»¶å¤¹è¿‡æ»¤åŠŸèƒ½ï¼ˆå…¨éƒ¨åª’ä½“ã€è§†é¢‘åº“ã€å›¾ç‰‡åº“ï¼‰
- ä¼˜åŒ–æ–‡ä»¶è·¯å¾„é…ç½®

### v3.0.0
- æ–°å¢æ–‡ä»¶å¤¹ç®¡ç†ç³»ç»Ÿ
- è§†é¢‘å’Œå›¾ç‰‡ä½¿ç”¨ç‹¬ç«‹æ–‡ä»¶å¤¹ç»„ç»‡
- æ·»åŠ æ–‡ä»¶å¤¹è¿‡æ»¤åŠŸèƒ½ï¼ˆå…¨éƒ¨åª’ä½“ã€è§†é¢‘åº“ã€å›¾ç‰‡åº“ï¼‰
- åª’ä½“è®¡æ•°æ˜¾ç¤º
- ä¼˜åŒ–ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒ

### v2.2.0
- å›¾ç‰‡å°ºå¯¸æ”¾å¤§ä¸º1.4å€ï¼ˆä»300pxå¢åŠ åˆ°420pxï¼‰
- ç…§ç‰‡è¡Œåˆ—è·ç¦»ä¼˜åŒ–ä¸º5åƒç´ 
- æ›´ç´§å‡‘çš„å¸ƒå±€ï¼Œæå‡è§†è§‰å¯†åº¦
- ä¿æŒåŸæœ‰çš„ç€‘å¸ƒæµç®—æ³•ä¼˜åŠ¿

### v2.1.0
- ä¼˜åŒ–ä¸ºå›ºå®š3åˆ—å¸ƒå±€
- æä¾›ä¸€è‡´çš„è§†è§‰ä½“éªŒ
- ç®€åŒ–åˆ—æ•°è®¡ç®—é€»è¾‘
- ä¿æŒåŸæœ‰çš„ç€‘å¸ƒæµç®—æ³•ä¼˜åŠ¿

### v2.0.0
- å®Œå…¨é‡æ–°è®¾è®¡ç€‘å¸ƒæµç»„ä»¶
- åŸºäºæˆè¡Œå…ƒç´  + å¯»æ‰¾æ–°å¢å…ƒç´ è¿½åŠ ä½ç½®çš„ç®—æ³•
- å›ºå®šå®½åº¦è®¾è®¡ï¼Œç¡®ä¿å¸ƒå±€ç¨³å®šæ€§
- æœ€çŸ­åˆ—ä¼˜å…ˆçš„ç€‘å¸ƒæµå¸ƒå±€ç®—æ³•
- æ™ºèƒ½åˆ—æ•°è®¡ç®—å’Œå“åº”å¼è°ƒæ•´
- å±…ä¸­å¸ƒå±€ï¼Œå®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸

### v1.4.0
- å®ç°çœŸæ­£çš„æ™ºèƒ½ç€‘å¸ƒæµå¸ƒå±€ç®—æ³•
- åŸºäºå›¾ç‰‡æ¨ªç«–æ¯”ä¾‹åŠ¨æ€è°ƒæ•´åˆ—æ•°
- æ™ºèƒ½å†…å®¹ç±»å‹è¯†åˆ«å’Œåˆ—æ•°ä¼˜åŒ–
- åŠ¨æ€åˆ—æ•°è®¡ç®—ï¼ˆåŸºäºå®¹å™¨å®½åº¦å’Œå†…å®¹ç±»å‹ï¼‰
- æœ€çŸ­åˆ—ä¼˜å…ˆçš„ç€‘å¸ƒæµå¸ƒå±€ç®—æ³•
- æ™ºèƒ½å°ºå¯¸é™åˆ¶ï¼Œé˜²æ­¢å›¾ç‰‡è¿‡åº¦æ‹‰ä¼¸
- å±…ä¸­å¸ƒå±€ï¼Œç¡®ä¿å®Œç¾æ˜¾ç¤º

### v1.3.0
- é‡æ„ç€‘å¸ƒæµå¸ƒå±€ï¼Œä½¿ç”¨ç»å¯¹å®šä½æ›¿ä»£CSS Grid
- å®ç°çœŸæ­£çš„ç€‘å¸ƒæµæ•ˆæœï¼Œå›¾ç‰‡ç´§å¯†æ’åˆ—æ— ç©ºç™½é—´éš™
- åŠ¨æ€è®¡ç®—å®¹å™¨é«˜åº¦ï¼Œç²¾ç¡®æ§åˆ¶å¸ƒå±€
- ä¼˜åŒ–å“åº”å¼åˆ—æ•°åˆ†é…ç®—æ³•
- ä¿®å¤å›¾ç‰‡è¶…å‡ºå±å¹•è¾¹ç•Œé—®é¢˜ï¼Œå®ç°å®Œç¾è‡ªé€‚åº”
- æ™ºèƒ½å°ºå¯¸é™åˆ¶ï¼Œé˜²æ­¢å›¾ç‰‡è¿‡åº¦æ‹‰ä¼¸
- å±…ä¸­å¸ƒå±€ï¼Œç¡®ä¿å®Œç¾æ˜¾ç¤º

### v1.2.0
- ä¼˜åŒ–ç€‘å¸ƒæµå¸ƒå±€ç®—æ³•
- æ™ºèƒ½å›¾ç‰‡ç±»å‹è¯†åˆ«å’Œå®½é«˜æ¯”è®¡ç®—
- æ‰‹æœºç«¯ç´§å‡‘å¸ƒå±€ä¼˜åŒ–ï¼ˆ8-12pxé—´è·ï¼‰
- æ›´ç²¾ç¡®çš„å“åº”å¼æ–­ç‚¹ï¼ˆ480px, 640px, 768px, 1024pxï¼‰
- ä½¿ç”¨useCallbackä¼˜åŒ–æ€§èƒ½

### v1.1.0
- ç§»é™¤æ‰‹åŠ¨æ‰«ææŒ‰é’®
- å®ç°åŸºäºå®é™…å›¾ç‰‡å°ºå¯¸çš„ç€‘å¸ƒæµå¸ƒå±€
- æ™ºèƒ½å®½é«˜æ¯”è®¡ç®—
- è°·æ­Œé£æ ¼çš„ç²¾ç¡®æ‹¼æ¥æ•ˆæœ

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒè§†é¢‘å’Œå›¾ç‰‡ç€‘å¸ƒæµ
- å“åº”å¼è®¾è®¡
- å…¨å±æ’­æ”¾/æŸ¥çœ‹åŠŸèƒ½
